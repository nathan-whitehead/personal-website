---
title: About
layout: layouts/base.njk
---

{% block content %}
  <div class="blog-article-content">
    <h1>Blog</h1>
    <p>Welcome to my blog! Here, I share my thoughts on technology, programming, and other topics that interest me.</p>

    <div class="blog-search font-sans-serif">
      <input type="text" id="searchInput" placeholder="Search blog posts..." aria-label="Search blog posts">
      <div id="searchResults" class="search-results"></div>
    </div>

    <h2>Categories</h2>
    <ul class="categories-list">
      {%- for category in collections.categories -%}
        <li>
          <a href="/blog/{{ category.slug }}/">{{ category.name }}</a>
          <span class="post-count">({{ category.posts.length }} posts)</span>
        </li>
      {%- endfor -%}
    </ul>

    <h2>Recent Posts</h2>
    <ul class="posts-list">
      {%- for post in collections.recentPosts | limit(5) -%}
        <li>
          <a href="{{ post.url }}">{{ post.data.title }}</a>
          <span class="post-date">{{ post.date | dateFilter }}</span>
        </li>
      {%- endfor -%}
    </ul>
  </div>
{% endblock %}

{% block body_scripts %}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const searchInput = document.getElementById('searchInput');
      const searchResults = document.getElementById('searchResults');
      let searchIndex = [];

      // Fetch the search index
      fetch('/blog/search-index.json')
        .then(response => response.json())
        .then(data => {
          searchIndex = data;
        })
        .catch(error => console.error('Error loading search index:', error));

      // Handle search input
      searchInput.addEventListener('input', function () {
        const query = this
          .value
          .toLowerCase()
          .trim();

        // Clear results if query is empty
        if (!query) {
          searchResults.innerHTML = '';
          searchResults.style.display = 'none';
          return;
        }

        // Filter posts that match the query
        const results = searchIndex
          .filter(post => {
            return post
              .title
              .toLowerCase()
              .includes(query) || post
              .content
              .toLowerCase()
              .includes(query) || post
              .category
              .toLowerCase()
              .includes(query);
          })
          .slice(0, 5); // Limit to 5 results

        // Display results
        if (results.length > 0) {
          searchResults.innerHTML = '<ul>' + results
            .map(post => `
              <li>
                <a href="${post.url}">${post.title}</a>
                <span class="post-date">${post.date}</span>
              </li>
            `)
            .join('') + '</ul>';
          searchResults.style.display = 'block';
        } else {
          searchResults.innerHTML = '<p>No results found</p>';
          searchResults.style.display = 'block';
        }
      });

      // Close search results when clicking outside
      document.addEventListener('click', function (e) {
        if (e.target !== searchInput && e.target !== searchResults) {
          searchResults.style.display = 'none';
        }
      });
    });
  </script>
{% endblock %}