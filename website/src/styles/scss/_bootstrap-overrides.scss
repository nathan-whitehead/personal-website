@use "./variables" as vars;
@use "sass:color";
@use "sass:math";
@use "sass:list";

@function to-rgb($color) {
  @return "#{color.red($color)}, #{color.green($color)}, #{color.blue($color)}";
}

// Customize Bootstrap's CSS variables for light/dark mode support
:root {
  // backgrounds
  --bs-body-bg: #{vars.$light-bg};
  --bs-body-bg-rgb: #{to-rgb(vars.$light-bg)};
  --bs-secondary-bg: #{darken(vars.$light-bg, 5%)};
  --bs-secondary-bg-rgb: #{to-rgb(darken(vars.$light-bg, 5%))};
  --bs-tertiary-bg: #{darken(vars.$light-bg, 10%)};
  --bs-tertiary-bg-rgb: #{to-rgb(darken(vars.$light-bg, 10%))};
  --bs-card-bg: var(--bs-secondary-bg);
  --bs-card-bg-rgb: #{to-rgb(darken(vars.$light-bg, 5%))}; // Use the actual color value

  --bs-code-bg: rgba(0, 0, 0, 0.05);
  --bs-code-color: #{vars.$light-accent};
  --bs-pre-bg: #{vars.$pre-bg};
  --bs-pre-color: #{vars.$pre-color};
  --bs-pre-bg-rgb: #{to-rgb(vars.$pre-bg)};

  // colors
  --bs-body-color: #{vars.$light-text};
  --bs-body-color-rgb: #{to-rgb(vars.$light-text)};
  --bs-secondary-color: #{rgba(vars.$light-text, 0.75)};
  --bs-secondary-color-rgb: #{to-rgb(rgba(vars.$light-text, 0.75))};
  --bs-tertiary-color: #{rgba(vars.$light-text, 0.5)};
  --bs-tertiary-color-rgb: #{to-rgb(rgba(vars.$light-text, 0.5))};
  --bs-emphasis-color: #{vars.$light-text};
  --bs-emphasis-color-rgb: #{to-rgb(vars.$light-text)};

  --bs-primary: #{vars.$light-primary};
  --bs-primary-rgb: #{to-rgb(vars.$light-primary)};
  --bs-secondary: #{vars.$light-secondary};
  --bs-secondary-rgb: #{to-rgb(vars.$light-secondary)};
  --bs-border-color: #{darken(vars.$light-bg, 15%)};
  --bs-heading-color: #{vars.$light-text};
  --bs-link-color: #{vars.$light-link-color};
  --bs-link-color-rgb: #{to-rgb(vars.$light-link-color)};
  --bs-link-hover-color: #{vars.$light-primary};
  --bs-header-bg: #{vars.$light-header-bg};
  --bs-footer-bg: #{vars.$light-footer-bg};
}
// Dark mode CSS variables
html[data-theme="dark"] {
  // backgrounds
  --bs-body-bg: #{vars.$dark-bg};
  --bs-body-bg-rgb: #{to-rgb(vars.$dark-bg)};
  --bs-secondary-bg: #{lighten(vars.$dark-bg, 5%)};
  --bs-secondary-bg-rgb: #{to-rgb(lighten(vars.$dark-bg, 5%))};
  --bs-tertiary-bg: #{lighten(vars.$dark-bg, 10%)};
  --bs-tertiary-bg-rgb: #{to-rgb(lighten(vars.$dark-bg, 10%))};
  --bs-card-bg: var(--bs-secondary-bg);
  --bs-card-bg-rgb: #{to-rgb(lighten(vars.$dark-bg, 5%))};

  --bs-code-bg: rgba(255, 255, 255, 0.1);
  --bs-code-color: #{vars.$dark-accent};
  --bs-pre-bg: #{vars.$pre-bg};
  --bs-pre-color: #{vars.$pre-color};
  --bs-pre-bg-rgb: #{to-rgb(vars.$pre-bg)};

  // colors
  --bs-body-color: #{vars.$dark-text};
  --bs-body-color-rgb: #{to-rgb(vars.$dark-text)};
  --bs-secondary-color: #{rgba(vars.$dark-text, 0.75)};
  --bs-secondary-color-rgb: #{to-rgb(rgba(vars.$dark-text, 0.75))};
  --bs-tertiary-color: #{rgba(vars.$dark-text, 0.5)};
  --bs-tertiary-color-rgb: #{to-rgb(rgba(vars.$dark-text, 0.5))};
  --bs-emphasis-color: #{vars.$dark-text};
  --bs-emphasis-color-rgb: #{to-rgb(vars.$dark-text)};

  --bs-primary: #{vars.$dark-primary};
  --bs-primary-rgb: #{to-rgb(vars.$dark-primary)};
  --bs-secondary: #{vars.$dark-secondary};
  --bs-secondary-rgb: #{to-rgb(vars.$dark-secondary)};
  --bs-border-color: #{lighten(vars.$dark-bg, 15%)};
  --bs-heading-color: #{vars.$dark-text};
  --bs-link-color: #{vars.$dark-link-color};
  --bs-link-color-rgb: #{to-rgb(vars.$dark-link-color)};
  --bs-link-hover-color: #{vars.$dark-primary};
  --bs-header-bg: #{vars.$dark-header-bg};
  --bs-footer-bg: #{vars.$dark-footer-bg};
}

// .btn-primary {
//   @if color.lightness(vars.$primary) > 0.5 {
//     background-color: var(--bs-primary);
//     border-color: var(--bs-primary);
//   } @else {
//     background-color: var(--bs-primary);
//     border-color: var(--bs-primary);
//   }
// }
